<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" logicalFilePath="none" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet author="jhipster" id="1430740435029-35" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_AUTHORITY">
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-36" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_DATASOURCE">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="T_DATASOURCEPK"/>
            </column>
            <column name="endpoint_update_url" type="VARCHAR(255)"/>
            <column name="endpoint_url" type="VARCHAR(255)"/>
            <column name="iri" type="VARCHAR(255)"/>
            <column name="is_public" type="BOOLEAN"/>
            <column name="meta_endpoint_url" type="VARCHAR(255)"/>
            <column name="meta_graph_name" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="type" type="INT"/>
            <column name="owner_id" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-37" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_DATASOURCE_T_TRACK">
            <column autoIncrement="true" name="T_DATASOURCE_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column autoIncrement="true" name="tracks_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-38" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_PERSISTENT_AUDIT_EVENT">
            <column autoIncrement="true" name="event_id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="T_PERSISTENT_PK"/>
            </column>
            <column name="event_date" type="timestamp"/>
            <column name="event_type" type="VARCHAR(255)"/>
            <column name="principal" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-39" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_PERSISTENT_AUDIT_EVENT_DATA">
            <column autoIncrement="true" name="event_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-40" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_PERSISTENT_TOKEN">
            <column name="series" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ip_address" type="VARCHAR(255)"/>
            <column name="token_date" type="date"/>
            <column name="token_value" type="VARCHAR(255)"/>
            <column name="user_agent" type="VARCHAR(255)"/>
            <column name="user_login" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-41" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_PROJECT">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="T_PROJECTPK"/>
            </column>
            <column name="title" type="VARCHAR(255)"/>
            <column name="owner_id" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-42" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_PROJECT_T_TRACK">
            <column autoIncrement="true" name="T_PROJECT_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column autoIncrement="true" name="tracks_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-43" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_RAWDATAFILE">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="T_RAWDATAFILEPK"/>
            </column>
            <column name="file_path" type="VARCHAR(255)"/>
            <column name="status" type="INT"/>
            <column name="track_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-44" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_REGIONOFINTEREST">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="T_REGIONOFINTPK"/>
            </column>
            <column name="sample_date_attribute" type="date"/>
            <column name="sample_text_attribute" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-45" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_TRACK">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="T_TRACKPK"/>
            </column>
            <column name="graph_name" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="status" type="INT"/>
            <column name="type" type="VARCHAR(255)"/>
            <column name="datasource_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-46" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_TRACK_T_RAWDATAFILE">
            <column autoIncrement="true" name="T_TRACK_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column autoIncrement="true" name="rawDataFiles_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-47" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_USER">
            <column name="login" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="VARCHAR(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="activated" type="BOOLEAN"/>
            <column name="activation_key" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="lang_key" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-48" logicalFilePath="none">
        <createTable catalogName="" schemaName="public" tableName="T_USER_AUTHORITY">
            <column name="login" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-49" logicalFilePath="none">
        <addPrimaryKey catalogName="" columnNames="login, name" schemaName="public" tableName="T_USER_AUTHORITY"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-50" logicalFilePath="none">
        <addPrimaryKey catalogName="" columnNames="name" constraintName="T_AUTHORITYPK" schemaName="public" tableName="T_AUTHORITY"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-51" logicalFilePath="none">
        <addPrimaryKey catalogName="" columnNames="series" constraintName="T_PERSISTENT_PK" schemaName="public" tableName="T_PERSISTENT_TOKEN"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-52" logicalFilePath="none">
        <addPrimaryKey catalogName="" columnNames="login" constraintName="T_USERPK" schemaName="public" tableName="T_USER"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-53" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="track_id" baseTableCatalogName="" baseTableName="T_RAWDATAFILE" baseTableSchemaName="public" constraintName="FK_1sr430mljt676vgn8mc98gvf4" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_TRACK" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-54" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="rawDataFiles_id" baseTableCatalogName="" baseTableName="T_TRACK_T_RAWDATAFILE" baseTableSchemaName="public" constraintName="FK_436vll7708q8p6oqjt16a0ah" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_RAWDATAFILE" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-55" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="datasource_id" baseTableCatalogName="" baseTableName="T_TRACK" baseTableSchemaName="public" constraintName="FK_79ifc99gxvpn74rs90bl9oroj" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_DATASOURCE" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-56" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="owner_id" baseTableCatalogName="" baseTableName="T_PROJECT" baseTableSchemaName="public" constraintName="FK_a0kdmtvfioekufbkj7t3161qe" deferrable="false" initiallyDeferred="false" referencedColumnNames="login" referencedTableCatalogName="" referencedTableName="T_USER" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-57" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="event_id" baseTableCatalogName="" baseTableName="T_PERSISTENT_AUDIT_EVENT_DATA" baseTableSchemaName="public" constraintName="FK_clwvdsoybicb9nxw6whom5m26" deferrable="false" initiallyDeferred="false" referencedColumnNames="event_id" referencedTableCatalogName="" referencedTableName="T_PERSISTENT_AUDIT_EVENT" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-58" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="tracks_id" baseTableCatalogName="" baseTableName="T_DATASOURCE_T_TRACK" baseTableSchemaName="public" constraintName="FK_cyex7yx8vb80gi2vq2eswyu4q" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_TRACK" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-59" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="T_PROJECT_id" baseTableCatalogName="" baseTableName="T_PROJECT_T_TRACK" baseTableSchemaName="public" constraintName="FK_gxlx7clnpyr5voo4qxyyrn3kh" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_PROJECT" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-60" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="name" baseTableCatalogName="" baseTableName="T_USER_AUTHORITY" baseTableSchemaName="public" constraintName="FK_huidhlop1t5c0wprek7pg55c" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableCatalogName="" referencedTableName="T_AUTHORITY" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-61" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="T_TRACK_id" baseTableCatalogName="" baseTableName="T_TRACK_T_RAWDATAFILE" baseTableSchemaName="public" constraintName="FK_jrfqf4yqyf2c8v7khfbk9ar8a" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_TRACK" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-62" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="owner_id" baseTableCatalogName="" baseTableName="T_DATASOURCE" baseTableSchemaName="public" constraintName="FK_nacyl39t0jqfg2i80af976s6b" deferrable="false" initiallyDeferred="false" referencedColumnNames="login" referencedTableCatalogName="" referencedTableName="T_USER" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-63" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="T_DATASOURCE_id" baseTableCatalogName="" baseTableName="T_DATASOURCE_T_TRACK" baseTableSchemaName="public" constraintName="FK_qahly5cqvghitfeqekbgeqk1t" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_DATASOURCE" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-64" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="user_login" baseTableCatalogName="" baseTableName="T_PERSISTENT_TOKEN" baseTableSchemaName="public" constraintName="FK_sajoxmtyermxa58p31mwr8hav" deferrable="false" initiallyDeferred="false" referencedColumnNames="login" referencedTableCatalogName="" referencedTableName="T_USER" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-65" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="tracks_id" baseTableCatalogName="" baseTableName="T_PROJECT_T_TRACK" baseTableSchemaName="public" constraintName="FK_sjplolmoi7krxotu85hr3mr24" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableCatalogName="" referencedTableName="T_TRACK" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-66" logicalFilePath="none">
        <addForeignKeyConstraint baseColumnNames="login" baseTableCatalogName="" baseTableName="T_USER_AUTHORITY" baseTableSchemaName="public" constraintName="FK_st8euqgbo8n858cavo4lx34j9" deferrable="false" initiallyDeferred="false" referencedColumnNames="login" referencedTableCatalogName="" referencedTableName="T_USER" referencedTableSchemaName="public"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-67" logicalFilePath="none">
        <addUniqueConstraint catalogName="" columnNames="tracks_id" constraintName="UC_T_DATASOURCE_T_TRACK_TRACKS_ID" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="public" tableName="T_DATASOURCE_T_TRACK"/>
    </changeSet>
    <changeSet author="jhipster" id="1430740435029-68" logicalFilePath="none">
        <addUniqueConstraint catalogName="" columnNames="rawDataFiles_id" constraintName="UC_T_TRACK_T_RAWDATAFILE_RAWDATAFILES_ID" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="public" tableName="T_TRACK_T_RAWDATAFILE"/>
    </changeSet>
</databaseChangeLog>
